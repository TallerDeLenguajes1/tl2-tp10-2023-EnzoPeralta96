@{
    bool IsAdmin = Context.Request.HttpContext.Session.GetString("Rol") == "admin";
}
@model ViewModels.UpdateUserViewModels;

@if (Model.TieneMensajeDeError)
{
    <div id="mensajeTemporal" class="alert alert-warning mensajes-form">
        @Model.MensajeDeError
    </div>
}


<div class="border border-primary border-3 p-3 rounded contenedor-form">

    <h2>Modificar usuario</h2>

    <p>Ingrese los siguientes datos:</p>

    <form asp-controller="Usuario" asp-action="Update">

        <div class="mb-3">
            <input asp-for="@Model.Id">
            <span asp-validation-for="@Model.Id" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="@Model.Name"></label>
            <input asp-for="@Model.Name" class="form-control" />
            <span asp-validation-for="@Model.Name" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="@Model.Password"></label>
            <input asp-for="@Model.Password" class=" form-control" />
            <span asp-validation-for="@Model.Password" class="text-danger"></span>
        </div>

        <div class="contenedor-boton">
            <button type="submit" class="btn btn-dark">Modificar</button>
            <a asp-controller="Usuario" asp-action="Redirect" asp-route-idUsuario ="@Model.Id" class="btn btn-outline-dark">
                Cancelar
            </a>
        </div>


    </form>

</div>




@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var mensajeTemporal = document.getElementById('mensajeTemporal');
        if (mensajeTemporal) {
            setTimeout(function () {
                mensajeTemporal.classList.add('mensaje-oculto');
            }, 5000);
        }
    });
</script>
